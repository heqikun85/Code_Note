# Mapper代理


1. 定义与SQL映射文件同名的Mapper接口，并且将Mapper接口和SQL映射文件放置在同一目录下。
   * 这个概念其实就是在java目录下的mapper文件路径，和在resources下的xml文件路径一样即可。不需要物理上在同意文件夹，但路径名和顺序必须一样。
2. 设置SQL映射文件的namespace属性为Mapper接口全限定名
   * `<mapper namespace="com.kxfevr.mapper.UserMapper">`
3. 在 Mapper 接口中定义方法，方法名就是SQL映射文件中sql语句的id，并保持参数类型和返回值类型一致
    ```java
        public interface UserMapper {
            List<User> selectALL();
        }
    ```
4. 编码
   1.  通过 SqlSession 的 getMapper方法获取 Mapper接囗的代理对象
   2.  调用对应方法完成sql的执行
   
    ```java
    //3. 获取按口代理对象
    UserMapper userMapper = sqlSession.getMapper(UserMapper.class)
    //4. 执行方法，其实就是执行sql语句
    List<User> users = userMapper.selectAll();
    ```

* 细节:如果Mapper接口名称和SQL映射文件名称相同，并在同一目录下，则可以使用包扫描的方式简化SQL映射文件的加载
    ```xml
    <mappers>
        <!--加载sql的映射文件-->
        <!--<mapper resource="com/itheima/mapper2/UserMapper.xml"/>-->
        <package name="com.itheima.mapper"/>
    </mappers>
    ``` 



