[返回目录](./1.Spring概念.md)

# AOP(Aspect Oriented Programming) 面向切面编程
作用：在不惊动原始设计的基础上为程序进行功能增强。

它是靠通过一个通知层，将想要插入的功能单独提取出来。通过原设计的程序切入点，注入新的代码。

设计思路：
1. 导入`pom.xml`坐标
2. 制作连接点方法（原始操作，Dao接口与实现类）
3. 制作共性功能（通知类/通知）
4. 定义切入点
5. 绑定切入点与通知类的关系

然后我们跟着思路实施：
1. **导入坐标**：AOP是默认在spring freamwork的依赖下。但有另一个依赖也要导入。
```java
        <dependency>
            <groupId>org.aspectj</groupId>
            <artifactId>aspectjweaver</artifactId>
            <version>1.9.6</version> //版本根据现有更新
        </dependency>
```

1. 制作连接点method：原程序中的某个功能，已存在
2. **制作共性功能**：
```java
//创建一个和dao，service平级的aop层，并创建一个通知类
public class Notice {
    void method(){
        //将共性功能单独提取出来，成为一个方法
        //所谓共性功能，就是原设计中的功能，在增强版中仍然需要的功能
        long startTime = System.currentTimeMillis();
        System.out.println(startTime);
    }
}
```